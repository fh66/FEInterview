# qiankun的原理了解哪些

`qiankun` 是一种基于 `single-spa` 的微前端实现。它的工作原理涉及几个关键方面：

1. **多应用运行时共存**：
   - `qiankun` 允许多个前端应用在同一页面上共存，每个应用都是一个独立的微应用。
   - 微应用可以是用任何框架（如React、Vue、Angular）编写的，甚至可以是纯HTML/JavaScript。
2. **应用隔离**：
   - `qiankun` 使用 JavaScript 沙箱来实现应用间的隔离。这保证了全局变量、样式等不会在微应用间相互干扰。
   - 为每个微应用创建一个独立的执行上下文，避免状态污染。
3. **应用加载与卸载**：
   - 通过生命周期钩子，`qiankun` 管理微应用的加载、渲染、卸载等。
   - 微应用可以被动态加载，也就是说，它们不需要在主应用启动时就加载，而是可以按需加载。
4. **基于路由的激活/卸载**：
   - `qiankun` 通常利用 URL 路由来决定何时加载或卸载特定的微应用。
   - 这意味着当 URL 发生变化时，`qiankun` 会自动判断并加载或卸载相应的微应用。
5. **资源加载**：
   - 微应用的资源（如JavaScript和CSS）被动态加载到主应用中。
   - `qiankun` 会处理资源的获取、执行和卸载。
6. **通信机制**：
   - 尽管每个微应用都是独立的，但`qiankun` 提供了通信机制，允许应用间进行消息传递。
7. **性能优化**：
   - 提供了如预加载等性能优化措施，可以在浏览器空闲时预先加载微应用资源。
8. **样式隔离**：
   - `qiankun` 采用 Shadow DOM 或 Scoped CSS 等技术来避免样式冲突，确保微应用的样式独立于主应用和其他微应用。