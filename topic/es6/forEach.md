### 你知道何时应该使用forEach而不是map吗?

1. **使用`forEach`**：
   - 当你需要遍历数组元素并对每个元素执行某些操作，但不需要返回一个新数组时。
   - `forEach`仅用于迭代数组中的每个元素并执行一些操作，例如日志记录、修改原数组的元素（不推荐，因为这违反了函数式编程的原则）或执行非纯函数操作（例如，更新UI或调用API）。
   - `forEach`没有返回值（即返回`undefined`）。
2. **使用`map`**：
   - 当你需要遍历数组，并且基于原数组的每个元素创建一个新的数组时。
   - `map`用于将数组中的每个元素通过指定的函数映射（转换）成一个新的元素，形成一个新数组。
   - `map`强调的是不改变原数组，而是创建一个新的数组，这符合函数式编程的不可变性原则。
   - `map`会返回一个新的数组，数组的长度与原数组相同。

简单总结：

- 如果你需要创建一个基于原数组元素的新数组，使用`map`。
- 如果你只需要遍历数组并执行操作而不关心返回值，使用`forEach`。

例如，如果你需要更新数组中每个元素的值并创建一个新数组，那么应该使用`map`。但是，如果你只是想遍历数组并打印每个元素的值，那么`forEach`会是更好的选择。

### map和forEach有什么区别？

`map`和`forEach`是JavaScript中处理数组的两种常用方法，它们都用于遍历数组，但主要区别在于它们的目的和返回值：

1. **map**：
   - **目的**：`map`用于遍历数组，并对每个元素应用一个函数，从而生成一个新的数组。它通常用于数组的转换或映射。
   - **返回值**：返回一个新的数组，该数组包含应用函数后的元素。原数组不会被修改。
   - **应用场景**：当你需要基于原数组创建一个新数组时，每个原数组元素都以某种方式被转换或映射到新数组中。
2. **forEach**：
   - **目的**：`forEach`也用于遍历数组，但它仅用于对每个元素执行某些操作，并不期望从中创建新数组。
   - **返回值**：没有返回值（或者说返回`undefined`）。它仅用于操作或影响外部作用域的变量。
   - **应用场景**：当你只需要访问或应用某些操作到每个数组元素，而不需要结果数组时，比如打印日志、写入数据库等。

总结：

- 如果你的目的是创建一个新的数组，并且每个元素都是通过应用于原数组的每个元素的函数得来的，那么使用`map`。
- 如果你只是想对数组的每个元素执行操作，并不关心返回值或不需要新数组，那么使用`forEach`。